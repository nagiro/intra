<?php

require 'lib/model/om/BaseEntradesPeer.php';


/**
 * Skeleton subclass for performing query and update operations on the 'entrades' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * 07/12/10 13:50:00
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class EntradesPeer extends BaseEntradesPeer {

    

	static public function getList($PAGE = 1)
	{
		$C = new Criteria();
        
        $C->addDescendingOrderByColumn(self::IDENTRADA);		     
	                    
		$pager = new sfPropelPager('Entrades', 10);
	    $pager->setCriteria($C);
	    $pager->setPage($PAGE);
	    $pager->init();    
	                
	    return $pager; 
 		
	}
	
	static public function initialize( $idE = 0 , $idS = 0 )
	{		
		$OE = EntradesPeer::retrieveByPK($idE);		
		if(!($OE instanceof Entrades)):
			$OE = new Entrades();
			$OE->setTitol('TÍTOL PER DEFECTE');
			$OE->setSubtitol('SUBTÍTOL PER DEFECTE');
			$OE->setData('Dia, XX de mes, 20.00h');
			$OE->setLloc('Auditori de la Casa de Cultura de Girona');
			$OE->setPreu('Preu: 5€ / Reduït: 3€ ');
			$OE->setVenudes(0);
			$OE->setRecaptat(0);
            $OE->setLocalitats(126);			
		endif; 		
		
        return new EntradesForm($OE,array('IDS'=>$idS));        
	}
	
    
} // EntradesPeer
